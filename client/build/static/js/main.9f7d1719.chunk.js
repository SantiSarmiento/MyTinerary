(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{125:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),r=s(23),c=s.n(r),i=s(5),o=s(39),l=s(40),u=s(47),d=s(45),j=(s(80),s(54),s(55),s(41)),p=s.n(j),m=s(1),g=function(e){var t=e.city;return Object(m.jsx)("div",{className:"imgDiv",style:{backgroundImage:"url(".concat(t.photo,")")},children:Object(m.jsx)("div",{className:"cityName",children:Object(m.jsx)("p",{children:t.name})})})},b=s(137),h=[{name:"Venice",id:1,photo:"https://i.postimg.cc/9002k1fg/venice.png"},{name:"Buenos Aires",id:2,photo:"https://i.postimg.cc/QNmVnnfm/buenosaires.png"},{name:"Egypt",id:3,photo:"https://i.postimg.cc/FRg1vPN9/egipto.png"},{name:"Greece",id:4,photo:"https://i.postimg.cc/FzrzHjH0/grecia.png"},{name:"London",id:5,photo:"https://i.postimg.cc/Jzvs5DpW/londres.png"},{name:"Morocco",id:6,photo:"https://i.postimg.cc/13fgFccH/marruecos.png"},{name:"Moscow",id:7,photo:"https://i.postimg.cc/L4x6Vgs0/moscu.png"},{name:"New York",id:8,photo:"https://i.postimg.cc/8cXpk93V/newyork.png"},{name:"Paris",id:9,photo:"https://i.postimg.cc/c4jxpqwR/paris.png"},{name:"Rio de Janeiro",id:10,photo:"https://i.postimg.cc/wB59R7P2/rio.png"},{name:"Sydney",id:11,photo:"https://i.postimg.cc/rp28pShz/sydney.png"},{name:"Tokyo",id:12,photo:"https://i.postimg.cc/ZRT48JzS/tokyo.png"}],O=function(){var e={dots:!1,infinite:!0,speed:900,slidesToShow:2,slidesToScroll:2,autoplay:!0,autoplaySpeed:4e3,rows:2,arrows:!0},t=Object(b.a)("(max-width: 900px)"),s=Object(b.a)("(max-width: 600px)");return t&&(e.rows=2,e.slidesToShow=1,e.slidesToScroll=1,e.autoplaySpeed=3500),s&&(e.slidesToScroll=1,e.rows=1,e.slidesToShow=1,e.autoplaySpeed=3e3),Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(p.a,Object(i.a)(Object(i.a)({},e),{},{children:h.map((function(e){return Object(m.jsx)(g,{city:e},e.id)}))}))})},x=function(){return Object(m.jsxs)("div",{className:"homeInfo",children:[Object(m.jsxs)("div",{className:"logoContainer",children:[Object(m.jsx)("div",{className:"logoImg",style:{backgroundImage:"url('./assets/otherImg/logo.png')"}}),Object(m.jsx)("h1",{className:"h1Home",children:"MyTinerary!"})]}),Object(m.jsx)("h2",{className:"heroWelcome",children:"Find your perfect trip, designed by insiders who know and love their cities!"})]})},f=s(10),y=function(){return Object(m.jsxs)("div",{className:"ctaction",children:[Object(m.jsx)("div",{className:"ctaText",children:Object(m.jsxs)("div",{className:"ctaButton",children:[Object(m.jsx)("p",{children:"Great adventures await for you."}),Object(m.jsx)("p",{children:" What are you waiting for ?"}),Object(m.jsx)(f.b,{to:"/Cities",className:"linkButtons",children:"Search Cities !!"})]})}),Object(m.jsx)("div",{className:"ctaimg",style:{backgroundImage:"url('./assets/otherImg/cataratas.png')"}})]})},v=(s(101),s(135)),N=s(136),k=s(134),I=s(9),C=s(7),w=s.n(C),L=s(13),S=s(15),T=s.n(S),E=s(14),U={createUser:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.post("https://mytinerarysarmiento.herokuapp.com/api/user/signup",e);case 2:if((a=t.sent).data.success){t.next=5;break}return t.abrupt("return",a.data);case 5:s({type:"LOG_USER",payload:a.data.success?a.data.response:null}),E.b.success("Welcome "+a.data.response.firstName+"!");case 7:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}()},logInUser:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.post("https://mytinerarysarmiento.herokuapp.com/api/user/signin",e);case 2:if((a=t.sent).data.success){t.next=5;break}return t.abrupt("return",a.data);case 5:s({type:"LOG_USER",payload:a.data.success?a.data.response:null}),E.b.success("Welcome "+a.data.response.firstName+"!");case 7:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}()},signOut:function(){return function(e,t){e({type:"SIGN_OUT"}),Object(E.b)("See you soon",{icon:"\ud83d\udc4b",style:{borderRadius:"10px",background:"white",color:"black"}})}},forzedLogin:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get("https://mytinerarysarmiento.herokuapp.com/api/user/signinLs",{headers:{Authorization:"Bearer "+e.token}});case 3:a=t.sent,s({type:"LOG_USER",payload:Object(i.a)(Object(i.a)({},a.data.response),{},{token:e.token})}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response&&401===t.t0.response.status&&E.b.error("what are you trying to do ???");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,s){return t.apply(this,arguments)}}()},userData:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a,r,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.put("https://mytinerarysarmiento.herokuapp.com/api/user/userdata",e);case 2:return a=t.sent,r=a.data.token,c=Object(i.a)(Object(i.a)({},a.data.response),{},{token:r}),t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}()},dataUpdate:function(e){return function(t,s){t({type:"LOG_USER",payload:e})}}},_={signout:U.signOut},P=Object(I.b)((function(e){return{userLogged:e.userLogged}}),_)((function(e){var t=e.userLogged.userLogged?e.userLogged.userLogged.photoUrl:"https://i.postimg.cc/902BsHM2/login.png",s=e.userLogged.userLogged&&e.userLogged.userLogged.firstName;return Object(m.jsxs)("div",{className:"headerNav",children:[Object(m.jsxs)(v.a,{collapseOnSelect:!0,expand:"lg",className:"navbar-dark",children:[Object(m.jsx)(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(m.jsx)(v.a.Collapse,{id:"responsive-navbar-nav",children:Object(m.jsxs)(N.a,{children:[Object(m.jsx)(f.c,{className:"navlink",to:"/",children:"Home"}),Object(m.jsx)(f.c,{className:"navlink",to:"/Cities",children:"Cities"})]})})]}),Object(m.jsxs)("div",{className:"userName",children:[s&&Object(m.jsxs)("p",{className:"welcome",children:["Welcome ",s," "]}),Object(m.jsx)(k.a,{title:Object(m.jsx)("div",{className:e.userLogged.userLogged?"loginImgUser":"loginImg",style:{backgroundImage:"url('".concat(t,"')")}}),id:"basic-nav-dropdown",children:Object(m.jsxs)("div",{className:"headerDropdown",children:[!e.userLogged.userLogged&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f.c,{className:"userLink",to:"/SignIn",children:"Sign In"}),Object(m.jsx)(f.c,{className:"userLink",to:"/SignUp",children:"Sign Up"})]}),e.userLogged.userLogged&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"signout",onClick:e.signout,children:"Sing Out"}),Object(m.jsx)(f.c,{className:"userLink",to:"/acountsettings",children:"Acount Settings"})]})]})})]})]})})),M=function(){return Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsxs)("div",{className:"footernav",children:[Object(m.jsx)(f.b,{className:"link",to:"/",children:"Home"}),Object(m.jsx)(f.b,{className:"link",to:"/Cities",children:"Cities"})]}),Object(m.jsxs)("div",{className:"socialFooter",children:[Object(m.jsx)("div",{className:"socialImg",style:{backgroundImage:"url('/assets/footer/facebook.png')"}}),Object(m.jsx)("div",{className:"socialImg",style:{backgroundImage:"url('/assets/footer/instagram.png')"}}),Object(m.jsx)("div",{className:"socialImg",style:{backgroundImage:"url('/assets/footer/wsp.png')"}})]}),Object(m.jsx)("div",{className:"copy",children:Object(m.jsx)("p",{className:"copyR",children:"\xa9MyTinerary"})})]})},A=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{}),Object(m.jsx)("div",{className:"headerImg",style:{backgroundImage:"url('https://i.postimg.cc/QhWpw0pZ/portada.png')"},children:Object(m.jsx)(x,{})}),Object(m.jsx)(y,{}),Object(m.jsx)("div",{className:"myCarousel",children:Object(m.jsxs)("div",{className:"carouselContainer",children:[Object(m.jsx)("h2",{className:"carouselh2",children:"Popular MyTinerary"}),Object(m.jsx)(O,{})]})}),Object(m.jsx)(M,{})]})}}]),s}(a.a.Component),R={getCities:function(){return function(e,t){T.a.get("https://mytinerarysarmiento.herokuapp.com/api/cities").then((function(t){t.data.success?e({type:"GET_CITIES",payload:t.data.cities,success:t.data.success}):e({type:"GET_CITIES",success:t.data.success})})).catch((function(t){return e({type:"GET_CITIES",success:!1})}))}},filterCities:function(e){return function(t,s){t({type:"FILTER_CITIES",payload:e.target.value})}}},F=s(138),G=function(){return Object(m.jsx)(F.a,{color:"light",style:{width:"3rem",height:"3rem"}})},D=function(){return Object(m.jsx)("div",{className:"errorCard",style:{backgroundImage:"url('./assets/otherimg/error.png')"},children:Object(m.jsx)("p",{children:"Something went wrong"})})},z={getCities:R.getCities},B=Object(I.b)((function(e){return{citiesList:e.cities.cities,copyCities:e.cities.copyCities,success:e.cities.success}}),z)((function(e){return Object(n.useEffect)((function(){e.getCities()}),[]),!1===e.success?Object(m.jsx)(D,{}):0===e.copyCities.length?Object(m.jsx)(G,{}):Object(m.jsx)("div",{className:"sectionCity",children:0!==e.citiesList.length?e.citiesList.map((function(e){return Object(m.jsx)(f.c,{className:"cityCard",style:{backgroundImage:"url('".concat(e.photo,"')")},to:"/Cities/".concat(e._id),children:Object(m.jsx)("div",{className:"cityText",children:Object(m.jsx)("p",{children:e.name})})},e._id)})):Object(m.jsx)("div",{className:"nuleCard",style:{backgroundImage:"url('./assets/otherimg/nule.png')"},children:Object(m.jsxs)("div",{className:"nuleText",children:[Object(m.jsx)("p",{children:"The city that you're looking for is not heare"}),Object(m.jsx)("p",{children:"Try another one!"})]})},0)})})),Y={filterCities:R.filterCities},V=Object(I.b)(null,Y)((function(e){return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{}),Object(m.jsxs)("div",{className:"cityContainer",children:[Object(m.jsx)("div",{className:"cityImg",style:{backgroundImage:"url('https://i.postimg.cc/kgsVNVLq/portadacities.png')"}}),Object(m.jsx)("h1",{children:"Cities"}),Object(m.jsx)("input",{placeholder:"Search cities !!",onChange:e.filterCities}),Object(m.jsx)(B,{})]}),Object(m.jsx)(M,{})]})})),H=s(12),W=s(11),J={getItineraries:function(e){return function(t,s){T.a.get("https://mytinerarysarmiento.herokuapp.com/api/itineraries/"+e).then((function(e){e.data.success?t({type:"GET_ITINERARIES",payload:e.data.response,success:e.data.success}):t({type:"GET_ITINERARIES",success:e.data.response})})).catch((function(e){return t({type:"GET_ITINERARIES",success:!1})}))}},sendComment:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.put("https://mytinerarysarmiento.herokuapp.com/api/itinerary/"+e.id,e,{headers:{Authorization:"Bearer "+e.token}});case 2:if(!(a=t.sent)){t.next=6;break}return s({type:"UPDATE_COMMENT",payload:a.data.response}),t.abrupt("return",a.data.success);case 6:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}()},deleteComment:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.put("https://mytinerarysarmiento.herokuapp.com/api/itinerary/comments/"+e.itineraryId,e,{headers:{Authorization:"Bearer "+e.token}});case 2:(a=t.sent)&&s({type:"UPDATE_COMMENT",payload:a.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}()},editMessage:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.put("https://mytinerarysarmiento.herokuapp.com/api/itinerary/comment/"+e.commentId,e,{headers:{Authorization:"Bearer "+e.token}});case 2:(a=t.sent)&&s({type:"UPDATE_COMMENT",payload:a.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}()},putLike:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.put("https://mytinerarysarmiento.herokuapp.com/api/itinerary/like/"+e.itineraryId,e);case 2:if(!(a=t.sent)){t.next=6;break}return s({type:"UPDATE_COMMENT",payload:a.data.response}),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}()},deleteLike:function(e){return function(){var t=Object(L.a)(w.a.mark((function t(s,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.put("https://mytinerarysarmiento.herokuapp.com/api/itinerary/deleteLike/"+e.itineraryId,e);case 2:if(!(a=t.sent)){t.next=6;break}return s({type:"UPDATE_COMMENT",payload:a.data.response}),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}()}},q=s(46),K=function(e){return Object(m.jsx)("div",{className:"activity",style:{backgroundImage:"url('".concat(e.activity.photo,"')")},children:Object(m.jsx)("h3",{children:e.activity.tittle})})},Q=s(74),Z=s.n(Q),X={editMessage:J.editMessage},$=Object(I.b)((function(e){return{userLogged:e.userLogged}}),X)((function(e){var t=Object(n.useState)(!1),s=Object(W.a)(t,2),a=s[0],r=s[1],c={commentId:e.comment._id,itineraryId:e.itinerary,token:localStorage.getItem("token")},o=Object(n.useState)(!1),l=Object(W.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)(e.comment.comment),p=Object(W.a)(j,2),g=p[0],b=p[1];Object(n.useEffect)((function(){null!==e.userLogged.userLogged?e.userLogged.userLogged._id===e.comment.user._id&&r(!0):r(!1)}),[e.userLogged.userLogged]);var h=function(){if(g.trim()!==e.comment.comment){var t=localStorage.getItem("token"),s=Object(i.a)(Object(i.a)({},c),{},{commentEdit:g,token:t});e.editMessage(s)}d(!u)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"comment",children:Object(m.jsxs)("div",{className:"commentText",children:[Object(m.jsx)("div",{className:"iconsContainer",children:a&&Object(m.jsxs)(m.Fragment,{children:[u?Object(m.jsx)("div",{className:"commentsIcons",onClick:function(){return d(h)},style:{backgroundImage:"url('../assets/itinerary/lapiz.png')"}}):Object(m.jsx)("div",{className:"commentsIcons",onClick:function(){return d(!u)},style:{backgroundImage:"url('../assets/itinerary/lapiz.png')"}}),u?Object(m.jsx)("div",{className:"commentsIcons",onClick:function(){b(e.comment.comment),d(!u)},style:{backgroundImage:"url('../assets/itinerary/cruz.png')"}}):Object(m.jsx)("div",{className:"commentsIcons",onClick:function(){Z()("Are you sure you want to delete the comment?",{buttons:{goback:{text:"go back",value:"goback"},confirm:{text:"Delete",value:"confirm"}}}).then((function(t){switch(t){case"confirm":e.deleteComment(c),E.b.success("Comment was deleted")}}))},style:{backgroundImage:"url('../assets/itinerary/cruz.png')"}})]})}),Object(m.jsxs)("div",{className:"userPhotoContainer",children:[Object(m.jsx)("div",{className:"userPhoto",style:{backgroundImage:"url('".concat(e.comment.user.photoUrl,"')")}}),Object(m.jsxs)("p",{className:"user",children:[e.comment.user.firstName," ",e.comment.user.lastName,":"]})]}),u?Object(m.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&h()},onChange:function(e){var t=e.target.value;b(t)},className:"editInput",name:"editInput",value:g,autoFocus:!0}):Object(m.jsx)("p",{className:"userComment",children:e.comment.comment})]})})})})),ee={sendComment:J.sendComment,deleteComment:J.deleteComment,putLike:J.putLike,deleteLike:J.deleteLike},te=Object(I.b)(null,ee)((function(e){var t=Object(n.useState)(!1),s=Object(W.a)(t,2),a=s[0],r=s[1],c=Object(n.useState)([]),o=Object(W.a)(c,2),l=o[0],u=o[1],d=Object(n.useState)(!0),j=Object(W.a)(d,2),g=j[0],b=j[1],h=Object(n.useState)(""),O=Object(W.a)(h,2),x=O[0],f=O[1],y={itineraryId:e.itinerary._id,userId:e.userLogged.userLogged&&e.userLogged.userLogged._id},v=Object(n.useState)(!1),N=Object(W.a)(v,2),k=N[0],I=N[1],C=function(){var t=Object(L.a)(w.a.mark((function t(){var s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===x.trim()){t.next=7;break}return s={message:x,id:e.itinerary._id,token:localStorage.getItem("token")},t.next=4,e.sendComment(s);case 4:f(""),t.next=8;break;case 7:E.b.error("You cant send and empyt comment");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();var S=function(){var t=Object(L.a)(w.a.mark((function t(s){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteComment(s);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(L.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.userLogged.userLogged){t.next=16;break}if(k){t.next=14;break}if(I(!0),!e.itinerary.likes.find((function(t){return t.user===e.userLogged.userLogged._id}))){t.next=10;break}return t.next=6,e.deleteLike(y);case 6:t.sent&&I(!1),t.next=14;break;case 10:return t.next=12,e.putLike(y);case 12:t.sent&&I(!1);case 14:t.next=17;break;case 16:E.b.error("You must be logged to like a itinerary");case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=e.userLogged.userLogged&&e.itinerary.likes.find((function(t){return t.user===e.userLogged.userLogged._id}))?"/assets/itinerary/corazonLleno.png":"/assets/itinerary/corazon.png";return Object(m.jsxs)("div",{className:"itinerary",children:[Object(m.jsx)("h2",{className:"itineraryTittle",children:e.itinerary.tittle}),Object(m.jsx)("div",{className:"itineraryPhoto",style:{backgroundImage:"url('".concat(e.itinerary.authorPhoto,"')")}}),Object(m.jsx)("h3",{className:"itineraryName",children:e.itinerary.authorName}),Object(m.jsxs)("div",{className:"itineraryIconsContainer",children:[Object(m.jsxs)("div",{className:"iconsText",children:[Object(m.jsx)("h4",{children:e.itinerary.likes.length}),Object(m.jsx)("div",{className:"itineraryIcons likes",style:{backgroundImage:"url('".concat(_,"')")},onClick:U})]}),Object(m.jsxs)("div",{className:"iconsText",children:[Object(m.jsx)("h4",{children:"Price: "}),Object(m.jsx)("div",{className:"icons",children:Object(q.a)(Array(e.itinerary.price)).map((function(e,t){return Object(m.jsx)("div",{className:"itineraryIcons",style:{backgroundImage:"url('/assets/itinerary/billete.png')"}},t)}))})]}),Object(m.jsx)("div",{className:"iconsText",children:Object(m.jsxs)("h4",{children:["Durattion: ",e.itinerary.duration," hs "]})})]}),Object(m.jsx)("div",{className:"hashtagcontainer",children:e.itinerary.hashTags.map((function(e,t){return Object(m.jsxs)("p",{children:["#",e]},t)}))}),Object(m.jsxs)("div",{className:a?"initial":"none",children:[Object(m.jsxs)("div",{className:"activitiesContainer",children:[Object(m.jsx)("h2",{children:"Activities"}),Object(m.jsx)("div",{className:"underConstruction",children:g?Object(m.jsx)(G,{}):Object(m.jsx)(p.a,Object(i.a)(Object(i.a)({},{dots:!1,infinite:!0,speed:700,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,rows:1,arrows:!1}),{},{children:l.map((function(e){return Object(m.jsx)(K,{activity:e},e._id)}))}))})]}),Object(m.jsx)("div",{className:"commentsContainer",children:Object(m.jsxs)("div",{className:"prueba",children:[Object(m.jsx)("h2",{children:"Comments"}),Object(m.jsx)("div",{className:"comments",children:e.itinerary.comments.map((function(t){return Object(m.jsx)($,{comment:t,itinerary:e.itinerary._id,deleteComment:S},t._id)}))}),Object(m.jsxs)("div",{className:"sendComment",children:[Object(m.jsx)("input",{type:"text",name:"send",value:x,onKeyPress:function(e){"Enter"===e.key&&C()},onChange:function(e){var t=e.target.value;f(t)},placeholder:e.userLogged.userLogged?"Leave a comment..":"You must be logged to comment",className:"commentInput",autoComplete:"off",disabled:!e.userLogged.userLogged&&!0}),Object(m.jsx)("button",{className:"send",onClick:C,style:{backgroundImage:"url('../assets/itinerary/send.png')"},disabled:!e.userLogged.userLogged})]})]})})]}),Object(m.jsx)("button",{className:"itineraryButton",onClick:function(){r(!a),a||0!==l.length||T.a.get("https://mytinerarysarmiento.herokuapp.com/api/activities/"+e.itinerary._id).then((function(e){return u(e.data.response.activities)}),b(!1))},children:a?"View less":"View more"})]})})),se={getItineraries:J.getItineraries},ne=Object(I.b)((function(e){return{itinerariesList:e.itineraries.itineraries,copyItineraries:e.itineraries.copyItineraries,userLogged:e.userLogged}}),se)((function(e){return Object(n.useEffect)((function(){e.getItineraries(e.id)}),[]),Object(m.jsx)(m.Fragment,{children:0===e.itinerariesList.length?Object(m.jsx)("div",{className:"nuleCard",style:{backgroundImage:"url('../assets/otherimg/nule2.png')"},children:Object(m.jsx)("div",{className:"nuleText",children:Object(m.jsx)("p",{children:"We don't have any itineraries yet, do you want to be the first?"})})},0):e.itinerariesList.map((function(t){return Object(m.jsx)(te,{itinerary:t,userLogged:e.userLogged},t._id)}))})})),ae={getCities:R.getCities},re=Object(I.b)((function(e){return{citiesList:e.cities.cities}}),ae)((function(e){var t=Object(n.useState)({}),s=Object(W.a)(t,2),a=s[0],r=s[1],c=Object(n.useState)(!0),i=Object(W.a)(c,2),o=i[0],l=i[1],u=e.match.params._id;return Object(n.useEffect)((function(){if(window.scrollTo(0,0),0===e.citiesList.length&&e.getCities(),0!==e.citiesList.length){var t=e.citiesList.filter((function(e){return e._id===u}));r(t[0]),l(!1)}}),[e.citiesList]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{}),o?Object(m.jsx)("div",{className:"itineraryloading",children:Object(m.jsx)(G,{})}):Object(m.jsxs)("div",{className:"itineraryContainer",children:[Object(m.jsx)("div",{className:"itineraryImg",style:{backgroundImage:"url('".concat(a.photo,"')")}}),Object(m.jsxs)("h1",{children:["Available Itineraries for ",a.name]}),Object(m.jsx)(ne,{id:u}),Object(m.jsxs)("div",{className:"buttonsContainer",children:[Object(m.jsx)(f.b,{className:"linkButtons",to:"/Cities",children:"Back to Cities"}),Object(m.jsx)(f.b,{className:"linkButtons",to:"/",children:"Back to Home"})]})]},a._id),Object(m.jsx)(M,{})]})})),ce=s(22),ie=s(44),oe=s.n(ie),le={createUser:U.createUser},ue=Object(I.b)(null,le)((function(e){var t=Object(n.useState)([]),s=Object(W.a)(t,2),a=s[0],r=s[1],c=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",photoUrl:"",country:""}),o=Object(W.a)(c,2),l=o[0],u=o[1],d=Object(n.useState)({}),j=Object(W.a)(d,2),p=j[0],g=j[1],b={firstName:null,lastName:null,email:null,password:null,photoUrl:null,country:null};Object(n.useEffect)((function(){window.scrollTo(0,0),T.a.get("https://restcountries.eu/rest/v2/all").then((function(e){return r(e.data)}))}),[]);var h=function(e){var t=e.target.value,s=e.target.name;u(Object(i.a)(Object(i.a)({},l),{},Object(ce.a)({},s,t)))},O=function(){var t=Object(L.a)(w.a.mark((function t(){var s,n,a,r,c=arguments;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=c.length>0&&void 0!==c[0]?c[0]:null,n=c.length>1&&void 0!==c[1]?c[1]:null,s&&s.preventDefault(),a=s?l:n,t.next=6,e.createUser(a);case 6:(r=t.sent)&&(r.error.details?r.error.details.map((function(e){return b[e.context.label]=e.message,null})):E.b.error(r.error),g(b));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(e){var t=e.profileObj,s=t.givenName,n=t.familyName,a=t.email,r=t.googleId,c=t.imageUrl;O(null,{firstName:s,lastName:n,email:a,photoUrl:c,password:"a"+r,googleUser:!0})};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{}),Object(m.jsx)("div",{className:"signUpContainer",style:{backgroundImage:"url('./assets/user/background.png')"},children:Object(m.jsxs)("form",{className:"form",children:[Object(m.jsx)("h1",{children:"SIGN UP"}),Object(m.jsx)("input",{type:"text",className:p.firstName?"errorInput":"input",placeholder:"MY FIRST NAME",name:"firstName",value:l.firstName,onChange:h}),p.firstName&&Object(m.jsx)("small",{children:p.firstName}),Object(m.jsx)("input",{type:"text",className:p.lastName?"errorInput":"input",placeholder:"MY FIRST LAST NAME",name:"lastName",value:l.lastName,onChange:h}),p.lastName&&Object(m.jsx)("small",{children:p.lastName}),Object(m.jsx)("input",{type:"text",className:p.email?"errorInput":"input",placeholder:"MY E-MAIL",name:"email",value:l.email,onChange:h}),p.email&&Object(m.jsx)("small",{children:p.email}),Object(m.jsx)("input",{type:"password",className:p.password?"errorInput":"input",placeholder:"MY PASSWORD",name:"password",value:l.password,onChange:h}),p.password&&Object(m.jsx)("small",{children:p.password}),Object(m.jsx)("input",{type:"text",className:p.photoUrl?"errorInput":"input",placeholder:"PHOTO URL",name:"photoUrl",value:l.photoUrl,onChange:h}),p.photoUrl&&Object(m.jsx)("small",{children:p.photoUrl}),Object(m.jsxs)("select",{name:"country",value:l.country,onChange:h,className:p.country?"errorInput":"select",children:[Object(m.jsx)("option",{children:"CHOOSE YOUR COUNTRY"}),a.map((function(e){return Object(m.jsx)("option",{value:e.name,children:e.name},e.name)}))]}),p.country&&Object(m.jsx)("small",{children:p.country}),Object(m.jsx)("button",{className:"signupButton",onKeyPress:function(e){"Enter"===e.key&&O()},onClick:O,children:"SIGN UP"}),Object(m.jsxs)("div",{className:"formbottom",children:[Object(m.jsxs)("p",{children:["Already have an account? ",Object(m.jsx)(f.b,{to:"/signin",children:"Sign in here !"})]}),Object(m.jsx)("p",{children:"Or you can sign up with Google"})]}),Object(m.jsx)(oe.a,{className:"google",clientId:"714215106747-gdvoj3qgieu87b51s103to040tluffv5.apps.googleusercontent.com",buttonText:"Sign Up with Google",onSuccess:x,onFailure:x,cookiePolicy:"single_host_origin"})]})}),Object(m.jsx)(M,{})]})})),de={logInUser:U.logInUser},je=Object(I.b)(null,de)((function(e){var t=Object(n.useState)({email:"",password:"",googleUser:!1}),s=Object(W.a)(t,2),a=s[0],r=s[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var c=function(e){var t=e.target.value,s=e.target.name;r(Object(i.a)(Object(i.a)({},a),{},Object(ce.a)({},s,t)))},o=function(){var t=Object(L.a)(w.a.mark((function t(){var s,n,r,c,i=arguments;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.length>0&&void 0!==i[0]?i[0]:null,n=i.length>1&&void 0!==i[1]?i[1]:null,s&&s.preventDefault(),r=s?a:n,t.next=6,e.logInUser(r);case 6:(c=t.sent)&&E.b.error(c.error);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(e){e.profileObj.email&&o(null,{email:e.profileObj.email,password:"a"+e.profileObj.googleId,googleUser:!0})};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{}),Object(m.jsx)("div",{className:"signUpContainer",style:{backgroundImage:"url('./assets/user/background.png')"},children:Object(m.jsxs)("form",{className:"form",children:[Object(m.jsx)("h1",{children:"SIGN IN"}),Object(m.jsx)("input",{type:"text",placeholder:"MY E-MAIL",className:"input",name:"email",value:a.email,onChange:c}),Object(m.jsx)("input",{type:"password",placeholder:"MY PASSWORD",className:"input",name:"password",value:a.password,onChange:c}),Object(m.jsx)("button",{onKeyPress:function(e){"Enter"===e.key&&o()},className:"signupButton",onClick:o,children:"SIGN IN"}),Object(m.jsxs)("div",{className:"formbottom",children:[Object(m.jsxs)("p",{children:["You do not have an account ? ",Object(m.jsx)(f.b,{to:"/SignUp",children:"Sign up here !"})]}),Object(m.jsx)("p",{children:"Sign in with Google"})]}),Object(m.jsx)(oe.a,{className:"google",clientId:"714215106747-gdvoj3qgieu87b51s103to040tluffv5.apps.googleusercontent.com",buttonText:"Sign in with Google",onSuccess:l,onFailure:l,cookiePolicy:"single_host_origin"})]})}),Object(m.jsx)(M,{})]})})),pe={userData:U.userData,dataUpdate:U.dataUpdate},me=Object(I.b)((function(e){return{userLogged:e.userLogged.userLogged}}),pe)((function(e){var t=Object(n.useState)({}),s=Object(W.a)(t,2),a=s[0],r=s[1],c=Object(n.useState)(""),i=Object(W.a)(c,2),o=i[0],l=i[1],u=function(e){var t=e.target.value,s=e.target.name;"oldPassword"===s?l(Object(ce.a)({},s,t)):r(Object(ce.a)({},s,t))},d=function(){var t=Object(L.a)(w.a.mark((function t(){var s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.userData({data:a,email:e.userLogged.email,token:localStorage.getItem("token"),oldPassword:o});case 2:(s=t.sent)&&(e.dataUpdate(s),E.b.success("The changes were saved"),r({}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{}),Object(m.jsx)("div",{className:"settingsContainer",children:Object(m.jsxs)("div",{className:"datacontainer",children:[Object(m.jsx)("h1",{children:"My data"}),Object(m.jsxs)("div",{className:"settingsPhoto",children:[Object(m.jsx)("div",{className:"dataType",children:Object(m.jsx)("p",{children:"First name:"})}),Object(m.jsx)("div",{className:"dataValue",children:Object(m.jsx)("p",{children:e.userLogged.firstName})}),Object(m.jsx)("div",{className:"flecha",style:{backgroundImage:"url('./assets/otherimg/flecha.png')"}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{className:"inputChange",type:"text",placeholder:"New first name",name:"firstName",onChange:u}),Object(m.jsx)("button",{onClick:d,children:"Change"})]}),Object(m.jsxs)("div",{className:"settingsPhoto",children:[Object(m.jsx)("div",{className:"dataType",children:Object(m.jsx)("p",{children:"Last name:"})}),Object(m.jsx)("div",{className:"dataValue",children:Object(m.jsx)("p",{children:e.userLogged.lastName})}),Object(m.jsx)("div",{className:"flecha",style:{backgroundImage:"url('./assets/otherimg/flecha.png')"}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",placeholder:"New last name",name:"lastName",onChange:u}),Object(m.jsx)("button",{onClick:d,children:"Change"})]}),Object(m.jsxs)("div",{className:"settingsPhoto",children:[Object(m.jsx)("div",{className:"dataType",children:Object(m.jsx)("p",{children:"Photo:"})}),Object(m.jsx)("div",{className:"loginImg",style:{backgroundImage:"url('".concat(e.userLogged.photoUrl,"')")}}),Object(m.jsx)("div",{className:"flecha",style:{backgroundImage:"url('./assets/otherimg/flecha.png')"}})]}),Object(m.jsxs)("div",{className:"inputsChange",children:[Object(m.jsx)("input",{type:"text",placeholder:"New photo URL",name:"photoUrl",onChange:u}),Object(m.jsx)("button",{onClick:d,children:"Change"})]}),Object(m.jsxs)("div",{className:"settingsPhoto",children:[Object(m.jsx)("div",{className:"dataType",children:Object(m.jsx)("p",{children:"Email: "})}),Object(m.jsx)("div",{className:"dataValue",children:Object(m.jsx)("p",{children:e.userLogged.email})}),Object(m.jsx)("div",{className:"flecha",style:{backgroundImage:"url('./assets/otherimg/flecha.png')"}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",placeholder:"New email",name:"email",onChange:u}),Object(m.jsx)("button",{onClick:d,children:"Change"})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"settingsPhoto",children:[Object(m.jsx)("div",{className:"dataType",children:Object(m.jsx)("p",{children:"Password: "})}),Object(m.jsx)("div",{className:"dataValue",children:Object(m.jsx)("p",{children:"*************"})}),Object(m.jsx)("div",{className:"flecha",style:{backgroundImage:"url('./assets/otherimg/flecha.png')"}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"password",placeholder:"old password",name:"oldPassword",onChange:u}),Object(m.jsx)("input",{type:"password",placeholder:"New password",name:"password",onChange:u}),Object(m.jsx)("button",{onClick:d,children:"Change"})]})]})]})}),Object(m.jsx)(M,{})]})})),ge=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={user:!1},e}return Object(l.a)(s,[{key:"render",value:function(){if(!this.props.userLogged&&localStorage.getItem("token")){var e=JSON.parse(localStorage.getItem("userLogged")),t=Object(i.a)({token:localStorage.getItem("token")},e);this.props.forzedLogin(t)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(f.a,{children:[Object(m.jsx)(E.a,{}),Object(m.jsxs)(H.d,{children:[Object(m.jsx)(H.b,{exact:!0,path:"/",component:A}),Object(m.jsx)(H.b,{exact:!0,path:"/Cities",component:V}),Object(m.jsx)(H.b,{exact:!0,path:"/Cities/:_id",component:re}),!this.props.userLogged&&Object(m.jsx)(H.b,{exact:!0,path:"/SignUp",component:ue}),!this.props.userLogged&&Object(m.jsx)(H.b,{exact:!0,path:"/SignIn",component:je}),this.props.userLogged&&Object(m.jsx)(H.b,{exact:!0,path:"/acountsettings",component:me}),Object(m.jsx)(H.a,{to:"/",component:A})]})]})})}}]),s}(a.a.Component),be={forzedLogin:U.forzedLogin},he=Object(I.b)((function(e){return{userLogged:e.userLogged.userLogged}}),be)(ge),Oe=s(28),xe=s(75),fe={cities:[],copyCities:[]},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CITIES":return t.success?Object(i.a)(Object(i.a)({},e),{},{cities:t.payload,copyCities:Object(q.a)(t.payload),success:t.success}):Object(i.a)(Object(i.a)({},e),{},{success:t.success});case"FILTER_CITIES":return Object(i.a)(Object(i.a)({},e),{},{cities:e.copyCities.filter((function(e){return 0===e.name.trim().toLowerCase().indexOf(t.payload.trim().toLowerCase())}))});default:return e}},ve={itineraries:[],copyItineraries:[]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES":return Object(i.a)(Object(i.a)({},e),{},{itineraries:t.payload,copyItineraries:t.payload});case"UPDATE_COMMENT":return Object(i.a)(Object(i.a)({},e),{},{itineraries:e.itineraries.map((function(e){return e._id===t.payload._id&&(e=t.payload),e}))});default:return e}},ke={userLogged:null},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return t.payload&&(localStorage.setItem("userLogged",JSON.stringify({firstName:t.payload.firstName,photoUrl:t.payload.photoUrl})),localStorage.setItem("token",t.payload.token)),Object(i.a)(Object(i.a)({},e),{},{userLogged:t.payload});case"SIGN_OUT":return localStorage.clear(),Object(i.a)(Object(i.a)({},e),{},{userLogged:null});default:return e}},Ce=Object(Oe.c)({cities:ye,itineraries:Ne,userLogged:Ie}),we=Object(Oe.d)(Ce,Object(Oe.a)(xe.a));c.a.render(Object(m.jsx)(I.a,{store:we,children:Object(m.jsx)(he,{})}),document.getElementById("root"))},80:function(e,t,s){}},[[125,1,2]]]);
//# sourceMappingURL=main.9f7d1719.chunk.js.map